<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TabunganKu Pro - Responsive Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-[#F8FAFC] min-h-screen flex flex-col items-center p-4 md:p-10">

    <div id="auth-section" class="max-w-md w-full glass p-8 shadow-2xl relative overflow-hidden mt-10">
        <div id="login-ui" class="fade-in">
            <div class="text-center mb-8">
                <div class="inline-block p-4 bg-blue-600 rounded-2xl mb-4 shadow-lg shadow-blue-200"><span class="text-3xl text-white">ðŸ’°</span></div>
                <h2 class="text-2xl font-black text-slate-800 uppercase tracking-tight">Selamat Datang</h2>
                <p class="text-slate-400 text-sm font-bold">Catat Tabunganmu Sekarang!</p>
            </div>
            <div class="space-y-4">
                <input id="login_email" type="email" placeholder="Email" class="input-field">
                <input id="login_pass" type="password" placeholder="Password" class="input-field">
                <button onclick="handleLogin()" class="btn-primary">Login Sekarang</button>
                <p class="text-center text-sm text-slate-500 mt-4">Belum punya akun? <a href="#" onclick="toggleAuth(true)" class="text-blue-600 font-bold hover:underline">Daftar</a></p>
            </div>
        </div>

        <div id="register-ui" class="hidden fade-in text-center">
            <div class="inline-block p-4 bg-emerald-500 rounded-2xl mb-4 shadow-lg shadow-emerald-200"><span class="text-3xl text-white">âœ¨</span></div>
            <h2 class="text-2xl font-black text-slate-800 mb-6 uppercase">Buat Akun</h2>
            <div class="space-y-4 text-left">
                <input id="reg_email" type="email" placeholder="Email" class="input-field">
                <input id="reg_pass" type="password" placeholder="Password" class="input-field">
                <button onclick="handleSignUp()" class="btn-success">Daftar Akun</button>
                <p class="text-center text-sm text-slate-500 mt-4">Sudah ada akun? <a href="#" onclick="toggleAuth(false)" class="text-blue-600 font-bold hover:underline">Login</a></p>
            </div>
        </div>
    </div>

    <div id="app-section" class="max-w-6xl w-full hidden">
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
            
            <div class="lg:col-span-5 space-y-6">
                <div class="card-balance text-white p-8 shadow-xl relative overflow-hidden">
                    <p class="text-[10px] uppercase tracking-[0.2em] opacity-80 font-black">Total Saldo Kamu</p>
                    <h1 id="total-saldo" class="text-4xl font-black mt-1">Rp 0</h1>
                    <button onclick="handleLogout()" class="absolute right-6 top-6 bg-white/20 p-2 rounded-xl text-[10px] font-black hover:bg-white/30 transition-all uppercase">Logout</button>
                </div>

                <div class="glass p-6 shadow-lg border-2 border-dashed border-blue-100">
                    <h3 class="text-[10px] font-black text-slate-400 mb-4 uppercase tracking-[0.2em]">Set Target Menabung</h3>
                    <div class="grid grid-cols-2 gap-2 mb-4">
                        <input id="set_nama_target" type="text" placeholder="Mau beli apa?" class="input-field-sm">
                        <input id="set_nom_target" type="number" placeholder="Harga Rp" class="input-field-sm">
                    </div>
                    <button onclick="simpanTargetBaru()" class="btn-primary py-3 text-[10px]">Pasang Target</button>
                    
                    <div class="mt-6">
                        <div class="flex justify-between items-center mb-2">
                            <p class="text-xs font-black text-slate-800 uppercase tracking-tight">Goal: <span id="nama-target" class="text-blue-600">---</span></p>
                            <p class="text-[10px] font-black text-blue-600 bg-blue-50 px-2 py-1 rounded-md" id="persen-goal">0%</p>
                        </div>
                        <div class="w-full bg-slate-100 rounded-full h-3 overflow-hidden">
                            <div id="progress-bar" class="bg-blue-600 h-full transition-all duration-1000" style="width: 0%"></div>
                        </div>
                        <p class="text-[9px] text-slate-400 mt-3 font-bold uppercase text-center tracking-widest" id="sisa-target">Menunggu Target...</p>
                    </div>
                </div>
                
                <div class="glass p-6 shadow-lg space-y-3">
                    <h3 class="text-[10px] font-black text-slate-400 mb-2 uppercase tracking-[0.2em]">Input Data</h3>
                    <input id="nama_penabung" type="text" placeholder="Nama Penabung" class="input-field-sm font-bold">
                    <input id="ket_transaksi" type="text" placeholder="Keterangan" class="input-field-sm">
                    <input id="nom_transaksi" type="number" placeholder="Nominal" class="input-field-sm font-black text-blue-600">
                    <button onclick="simpanData()" class="btn-dark">Simpan Sekarang</button>
                </div>
            </div>

            <div class="lg:col-span-7 space-y-6">
                <div class="grid grid-cols-2 gap-4">
                    <div class="glass p-6 text-center border border-emerald-100 shadow-sm">
                        <p class="text-[9px] font-black text-slate-400 uppercase tracking-widest">Tabungan Hari Ini</p>
                        <p id="stat-hari-ini" class="font-black text-emerald-600 text-2xl">Rp 0</p>
                    </div>
                    <div class="glass p-6 text-center border border-blue-100 shadow-sm">
                        <p class="text-[9px] font-black text-slate-400 uppercase tracking-widest">Total Transaksi</p>
                        <p id="stat-jumlah" class="font-black text-blue-600 text-2xl">0</p>
                    </div>
                </div>

                <div class="glass p-6 shadow-lg">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]">Riwayat Transaksi</h3>
                        <input id="search-input" type="text" onkeyup="filterData()" placeholder="Cari data..." class="bg-slate-100 py-2 px-4 rounded-xl outline-none focus:bg-white border focus:border-blue-400 transition text-xs w-1/2">
                    </div>
                    <div id="list-tabungan" class="space-y-3 max-h-[500px] overflow-y-auto pr-2">
                        </div>
                </div>

                <div class="text-center pt-4">
                    <button onclick="hapusAkun()" class="text-[9px] text-red-400 font-black hover:text-red-600 opacity-30 hover:opacity-100 transition-all uppercase tracking-[0.3em]">
                        Permanently Delete Account
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>